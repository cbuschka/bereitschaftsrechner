{"version":3,"sources":["util.js","dateconv.js","datetimeconv.js","DayInput.js","timeconv.js","TimeInput.js","DurationOutput.js","TimeOutput.js","changeFieldAction.js","calculator.js","model.js","MessagePanel.js","GithubIcon.js","App.js","index.js"],"names":["zeroPadded","d","isNaN","isValidDate","toISOString","getTime","dateToDateInputValue","local","Date","setMinutes","getMinutes","getTimezoneOffset","toJSON","slice","dateWithTimeToDate","time","parts","match","length","getFullYear","getMonth","getDate","parseInt","isDate","DayInput","onChange","ev","props","target","value","this","id","className","Input","placeholder","classnames","React","Component","millisToHhDotMm","dauerInMillis","minutes","Math","floor","hours","hhDotMmtoMillis","hhDotMm","result","exec","dateToTimeInputValue","TimeInput","dateToHhMm","DurationOutput","readOnly","TimeOutput","changeField","fieldName","dispatcher","dispatch","type","data","calculator","einsatzStartDatum","einsatzEndeDatum","ueblicherArbeitsbeginn","arbeitDauerInMillis","undefined","a","b","einsatzDauerInMillis","ueblicherArbeitsbeginnDatum","sperrzeitEndeDatum","berechneSperrzeitEndeDatum","aufschubstartDatum","buchungBeginnDatum","pauseDauerInMillis","buchungEndeDatum","gesamtDauerNetto","gesamtDauerBrutto","buchungDauerInMillis","sperrzeitEnde","buchungBeginn","buchungEnde","buchungDauer","einsatzDauer","pauseDauer","model","einsatzTag","einsatzBeginn","einsatzEnde","arbeitBeginn","arbeitEnde","einsatzMessages","ueblicherArbeitsbeginnMessages","einsatzTagDate","v","yyyyMmDdToDate","arbeitBeginnDatum","arbeitEndeDatum","arbeitDauer","push","text","berechneBuchung","MessagePanel","items","map","item","index","Item","MessagePanelItem","GithubIcon","viewBox","App","setState","state","addHandler","subscribe","unsubscribe","removeHandler","Container","tag","process","href","rel","Form","htmlFor","onEinsatzTagChanged","onEinsatzBeginnChanged","onEinsatzEndeChanged","onArbeitBeginnChanged","onArbeitEndeChanged","onUeblicherArbeitsbeginnChanged","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3a746610.chunk.js","sourcesContent":["export function zeroPadded(d) {\n    if (typeof d !== 'number' || isNaN(d)) {\n        return d;\n    }\n\n    if (d >= 0 && d < 10) {\n        return \"0\" + d;\n    }\n\n    return \"\" + d;\n}\n\nexport function max(a, b) {\n    if (a > b) {\n        return a;\n    }\n    return b;\n}\n","import {zeroPadded} from \"./util\";\n\nexport function isValidDate(d) {\n    return typeof d === 'object'\n        && d.toISOString\n        && typeof d.getTime() === 'number'\n        && !isNaN(d.getTime());\n}\n\nexport function dateToDateInputValue(d) {\n    if (!isValidDate(d)) {\n        return undefined;\n    }\n\n    var local = new Date(d);\n    local.setMinutes(d.getMinutes() - d.getTimezoneOffset());\n    return local.toJSON().slice(0, 10);\n}\n\nexport function dateToYyyyMmDd(d) {\n    return zeroPadded(d.getFullYear()) + \"-\" + zeroPadded(d.getMonth()) + \"-\" + zeroPadded(d.getDate());\n}\n\nexport function isValidYyyyMmDd(v) {\n    if (typeof v !== 'string') {\n        return false;\n    }\n\n    return v.match(/\\d+-\\d+-\\d+/);\n}\n\nexport function yyyyMmDdToDate(v) {\n    if (typeof v !== 'string') {\n        return undefined;\n    }\n\n    const parts = v.match(/(\\d+)-(\\d+)-(\\d+)/)\n    if (!parts || parts.length !== 4) {\n        return undefined;\n    }\n    return new Date(parseInt(parts[1]), parseInt(parts[2]), parseInt(parts[3]));\n}\n","import {isValidDate} from \"./dateconv\";\n\nexport function dateWithTimeToDate(d, time) {\n    if (!isValidDate(d) || !time) {\n        return undefined;\n    }\n\n    if (typeof time !== 'string') {\n        return undefined;\n    }\n\n    const parts = time.match(/(\\d+):(\\d+)/);\n    if (!parts || parts.length !== 3) {\n        return undefined;\n    }\n\n    return new Date(d.getFullYear(), d.getMonth(), d.getDate(), parseInt(parts[1]), parseInt(parts[2]));\n}\n\nexport function isDate(d) {\n    return isValidDate(d);\n}\n","import React from 'react';\nimport {isDate} from \"./datetimeconv\";\nimport {dateToYyyyMmDd} from \"./dateconv\";\nimport classnames from 'classnames';\nimport {Input} from \"reactstrap\";\n\nexport class DayInput extends React.Component {\n\n    onChange = (ev) => {\n        const {onChange} = this.props;\n\n        if (onChange) {\n            const newValue = ev.target.value;\n            onChange(newValue, ev);\n        }\n    };\n\n    render() {\n        const {id, className = \"\"} = this.props;\n        let {value = \"\"} = this.props;\n\n        if (isDate(value)) {\n            value = dateToYyyyMmDd(value);\n        }\n\n        return <Input placeholder='YYYY-MM-DD'\n                      className={classnames(className)}\n                      onChange={this.onChange}\n                      id={id} value={value}/>;\n    }\n}\n","import {zeroPadded} from \"./util\";\nimport {isValidDate} from \"./dateconv\";\n\nexport function isValidHhDotMm(v) {\n    return /(\\d+):(\\d+)/.test(v);\n}\n\nexport function millisToHhDotMm(dauerInMillis) {\n    if (typeof dauerInMillis !== 'number' || isNaN(dauerInMillis)) {\n        return undefined;\n    }\n\n    const minutes = zeroPadded(Math.floor((dauerInMillis / (1000 * 60)) % 60));\n    const hours = zeroPadded(Math.floor((dauerInMillis / (1000 * 60 * 60)) % 24));\n\n    return `${hours}:${minutes}`\n}\n\nexport function hhDotMmtoMillis(hhDotMm) {\n    if (typeof hhDotMm !== 'string') {\n        return undefined;\n    }\n\n    const result = /(\\d+):(\\d+)/.exec(hhDotMm);\n    if (!result || result.length !== 3) {\n        return undefined;\n    }\n    return parseInt(result[1]) * 1000 * 60 * 60 + parseInt(result[2]) * 1000 * 60;\n}\n\nexport function dateToTimeInputValue(d) {\n    if (!isValidDate(d)) {\n        return undefined;\n    }\n\n    var local = new Date(d);\n    local.setMinutes(d.getMinutes() - d.getTimezoneOffset());\n    return local.toJSON().slice(11, 16);\n}\n\nexport function dateToHhMm(d) {\n    if (!isValidDate(d)) {\n        return undefined;\n    }\n\n    var local = new Date(d);\n    local.setMinutes(d.getMinutes() - d.getTimezoneOffset());\n    return local.toJSON().slice(11, 16);\n}\n","import React from 'react';\nimport {isDate} from \"./datetimeconv\";\nimport {dateToHhMm} from \"./timeconv\";\nimport classnames from 'classnames';\nimport {Input} from \"reactstrap\";\n\nexport class TimeInput extends React.Component {\n\n    onChange = (ev) => {\n        const {onChange} = this.props;\n\n        if (onChange) {\n            const newValue = ev.target.value;\n            onChange(newValue, ev);\n        }\n    };\n\n    render() {\n        const {id, className = \"\"} = this.props;\n        let {value = \"\"} = this.props;\n\n        if (isDate(value)) {\n            value = dateToHhMm(value);\n        }\n\n        return <Input placeholder=\"HH:MM\"\n                      className={classnames(className)}\n                      onChange={this.onChange}\n                      id={id} value={value}/>;\n    }\n}\n","import React from 'react';\n\nexport class DurationOutput extends React.Component {\n    render() {\n        const {id, value = \"\"} = this.props;\n        return <output readOnly className=\"form-control\" id={id}>{value}</output>\n    }\n}\n","import React from 'react';\n\nexport class TimeOutput extends React.Component {\n    render() {\n        const {id, value = \"\"} = this.props;\n        return <output readOnly className=\"form-control\" id={id}>{value}</output>\n    }\n}\n","import {dispatcher} from \"@cbuschka/flux\";\n\nexport function changeField(fieldName, value) {\n    return dispatcher.dispatch({type: \"fieldChanged\", data: {fieldName, value}})\n}\n","import {max} from \"./util\";\nimport {dateToTimeInputValue, hhDotMmtoMillis, millisToHhDotMm} from \"./timeconv\";\nimport {dateWithTimeToDate} from \"./datetimeconv\";\n\nconst SIX_HOURS_IN_MILLIS = 1000 * 60 * 60 * 6;\nconst FIFTY_MINUTES_IN_MILLS = 1000 * 60 * 50;\nconst TWENTY_MINUTES_IN_MILLS = 1000 * 60 * 50;\n\nfunction berechneSperrzeitEndeDatum(einsatzEndeDatum) {\n    return new Date(einsatzEndeDatum.getTime() + hhDotMmtoMillis(\"11:00\"));\n}\n\n\nclass Calculator {\n    berechneBuchung(einsatzStartDatum, einsatzEndeDatum, ueblicherArbeitsbeginn, arbeitDauerInMillis) {\n        if (arbeitDauerInMillis === undefined) {\n            arbeitDauerInMillis = 0;\n        }\n\n        const einsatzDauerInMillis = einsatzEndeDatum - einsatzStartDatum;\n        const ueblicherArbeitsbeginnDatum = dateWithTimeToDate(einsatzStartDatum, ueblicherArbeitsbeginn);\n        const sperrzeitEndeDatum = berechneSperrzeitEndeDatum(einsatzEndeDatum);\n        const aufschubstartDatum = max(ueblicherArbeitsbeginnDatum, einsatzEndeDatum);\n        const buchungBeginnDatum = new Date(aufschubstartDatum.getTime() + einsatzDauerInMillis);\n        let pauseDauerInMillis = 0;\n        if (arbeitDauerInMillis > SIX_HOURS_IN_MILLIS) {\n            pauseDauerInMillis = FIFTY_MINUTES_IN_MILLS;\n        } else {\n            pauseDauerInMillis = TWENTY_MINUTES_IN_MILLS;\n        }\n        const buchungEndeDatum = new Date(sperrzeitEndeDatum.getTime() + arbeitDauerInMillis + pauseDauerInMillis);\n        const gesamtDauerNetto = einsatzDauerInMillis + arbeitDauerInMillis;\n        const gesamtDauerBrutto = gesamtDauerNetto + pauseDauerInMillis;\n        let buchungDauerInMillis = buchungEndeDatum - buchungBeginnDatum;\n\n        const result = {\n            sperrzeitEnde: dateToTimeInputValue(sperrzeitEndeDatum),\n            buchungBeginn: dateToTimeInputValue(buchungBeginnDatum),\n            buchungEnde: dateToTimeInputValue(buchungEndeDatum),\n            buchungDauer: millisToHhDotMm(buchungDauerInMillis),\n            einsatzDauer: millisToHhDotMm(einsatzDauerInMillis),\n            gesamtDauerNetto: millisToHhDotMm(gesamtDauerNetto),\n            gesamtDauerBrutto: millisToHhDotMm(gesamtDauerBrutto),\n            pauseDauer: millisToHhDotMm(pauseDauerInMillis)\n        };\n        return result;\n    }\n}\n\nexport const calculator = new Calculator();\n","import {calculator} from \"./calculator\";\nimport {hhDotMmtoMillis, millisToHhDotMm} from \"./timeconv\";\nimport {dateWithTimeToDate} from \"./datetimeconv\";\nimport {dateToDateInputValue, yyyyMmDdToDate} from \"./dateconv\";\n\nclass Model {\n    constructor() {\n        this.data = {\n            einsatzTag: dateToDateInputValue(new Date()),\n            einsatzBeginn: \"00:15\",\n            einsatzEnde: \"02:15\",\n            ueblicherArbeitsbeginn: \"07:30\",\n            arbeitBeginn: \"15:05\",\n            arbeitEnde: \"16:05\"\n        };\n    }\n\n    onFieldChanged({data: {fieldName, value}}) {\n        this.data[fieldName] = value;\n    }\n\n    appendDataTo(target) {\n        const einsatzMessages = [];\n        const ueblicherArbeitsbeginnMessages = [];\n        const einsatzTagDate = yyyyMmDdToDate(this.data.einsatzTag);\n        const einsatzStartDatum = dateWithTimeToDate(einsatzTagDate, this.data.einsatzBeginn);\n        const einsatzEndeDatum = dateWithTimeToDate(einsatzTagDate, this.data.einsatzEnde);\n        const ueblicherArbeitsbeginn = this.data.ueblicherArbeitsbeginn;\n        const arbeitBeginnDatum = dateWithTimeToDate(einsatzTagDate, this.data.arbeitBeginn);\n        const arbeitEndeDatum = dateWithTimeToDate(einsatzTagDate, this.data.arbeitEnde);\n        let arbeitDauer = 0;\n        if (arbeitBeginnDatum && arbeitEndeDatum) {\n            arbeitDauer = millisToHhDotMm(arbeitEndeDatum - arbeitBeginnDatum);\n        }\n        if (!einsatzTagDate) {\n            einsatzMessages.push({type: \"danger\", text: \"Einsatz-Tag erforderlich.\"});\n        }\n        if (einsatzTagDate && !einsatzStartDatum) {\n            einsatzMessages.push({type: \"danger\", text: \"Einsatz-Beginn erforderlich.\"});\n        }\n        if (einsatzTagDate && !einsatzEndeDatum) {\n            einsatzMessages.push({type: \"danger\", text: \"Einsatz-Ende erforderlich.\"});\n        }\n        if (!ueblicherArbeitsbeginn) {\n            ueblicherArbeitsbeginnMessages.push({type: \"danger\", text: \"Üblicher-Arbeitsbeginn erforderlich.\"});\n        }\n\n        if (einsatzStartDatum && einsatzEndeDatum && ueblicherArbeitsbeginn) {\n            const {\n                sperrzeitEnde,\n                buchungBeginn,\n                buchungEnde,\n                buchungDauer,\n                einsatzDauer,\n                gesamtDauerNetto,\n                gesamtDauerBrutto\n            } = calculator.berechneBuchung(einsatzStartDatum,\n                einsatzEndeDatum,\n                ueblicherArbeitsbeginn,\n                hhDotMmtoMillis(arbeitDauer));\n            target.calculator = {\n                ...this.data,\n                sperrzeitEnde,\n                buchungBeginn,\n                buchungEnde,\n                buchungDauer,\n                einsatzDauer,\n                einsatzMessages,\n                gesamtDauerBrutto,\n                gesamtDauerNetto,\n                arbeitDauer,\n                ueblicherArbeitsbeginnMessages\n            };\n        } else {\n            target.calculator = {\n                ...this.data,\n                sperrzeitEnde: \"\",\n                buchungBeginn: \"\",\n                buchungEnde: \"\",\n                buchungDauer: \"\",\n                einsatzDauer: \"\",\n                gesamtDauerBrutto: \"\",\n                gesamtDauerNetto: \"\",\n                arbeitDauer: \"\",\n                einsatzMessages,\n                ueblicherArbeitsbeginnMessages\n            };\n        }\n    }\n}\n\nexport const model = new Model();\n","import React from 'react';\n\nexport class MessagePanel extends React.Component {\n\n    render() {\n        const {items = []} = this.props;\n\n        if (items.length === 0) {\n            return null;\n        }\n\n        return <div className=\"row\">{items.map((item, index) => <MessagePanel.Item key={index} type={item[\"type\"]}\n                                                                   text={item[\"text\"]}/>)}</div>;\n    }\n}\n\nexport class MessagePanelItem extends React.Component {\n\n    render() {\n        const {type = \"info\", text = \"\"} = this.props;\n\n        return <div className=\"col\"><div className={\"text-\" + type}>{text}</div></div>;\n    }\n}\n\nMessagePanel.Item = MessagePanelItem;\n","import './GithubIcon.css';\n\nexport const GithubIcon = () => (\n    <div className=\"GithubIcon\">\n        <svg viewBox=\"0 0 284 277\">\n            <g><path d=\"M141.888675,0.0234927555 C63.5359948,0.0234927555 0,63.5477395 0,141.912168 C0,204.6023 40.6554239,257.788232 97.0321356,276.549924 C104.12328,277.86336 106.726656,273.471926 106.726656,269.724287 C106.726656,266.340838 106.595077,255.16371 106.533987,243.307542 C67.0604204,251.890693 58.7310279,226.56652 58.7310279,226.56652 C52.2766299,210.166193 42.9768456,205.805304 42.9768456,205.805304 C30.1032937,196.998939 43.9472374,197.17986 43.9472374,197.17986 C58.1953153,198.180797 65.6976425,211.801527 65.6976425,211.801527 C78.35268,233.493192 98.8906827,227.222064 106.987463,223.596605 C108.260955,214.426049 111.938106,208.166669 115.995895,204.623447 C84.4804813,201.035582 51.3508808,188.869264 51.3508808,134.501475 C51.3508808,119.01045 56.8936274,106.353063 65.9701981,96.4165325 C64.4969882,92.842765 59.6403297,78.411417 67.3447241,58.8673023 C67.3447241,58.8673023 79.2596322,55.0538738 106.374213,73.4114319 C117.692318,70.2676443 129.83044,68.6910512 141.888675,68.63701 C153.94691,68.6910512 166.09443,70.2676443 177.433682,73.4114319 C204.515368,55.0538738 216.413829,58.8673023 216.413829,58.8673023 C224.13702,78.411417 219.278012,92.842765 217.804802,96.4165325 C226.902519,106.353063 232.407672,119.01045 232.407672,134.501475 C232.407672,188.998493 199.214632,200.997988 167.619331,204.510665 C172.708602,208.913848 177.243363,217.54869 177.243363,230.786433 C177.243363,249.771339 177.078889,265.050898 177.078889,269.724287 C177.078889,273.500121 179.632923,277.92445 186.825101,276.531127 C243.171268,257.748288 283.775,204.581154 283.775,141.912168 C283.775,63.5477395 220.248404,0.0234927555 141.888675,0.0234927555\" /></g>\n        </svg>\n    </div>\n);\n\n","import React from 'react';\nimport {Container, Form} from \"reactstrap\";\nimport {DayInput} from \"./DayInput\";\nimport {TimeInput} from './TimeInput';\nimport {DurationOutput} from \"./DurationOutput\";\nimport {dispatcher} from \"@cbuschka/flux\";\nimport {TimeOutput} from \"./TimeOutput\";\nimport {changeField} from \"./changeFieldAction\";\nimport {model} from \"./model\";\nimport {MessagePanel} from \"./MessagePanel\";\nimport './App.css';\nimport {GithubIcon} from \"./GithubIcon\";\n\n\nexport class App extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {};\n    }\n\n    onChange = ({data}) => {\n        const {\n            calculator: {\n                einsatzTag, einsatzBeginn, einsatzEnde, einsatzDauer, einsatzMessages,\n                ueblicherArbeitsbeginn,\n                ueblicherArbeitsbeginnMessages,\n                arbeitBeginn, arbeitEnde, arbeitDauer,\n                sperrzeitEnde,\n                buchungBeginn,\n                buchungEnde,\n                buchungDauer,\n                gesamtDauerBrutto,\n                gesamtDauerNetto\n            }\n        } = data;\n\n        this.setState({\n            einsatzTag, einsatzBeginn, einsatzEnde, einsatzDauer,\n            ueblicherArbeitsbeginn, ueblicherArbeitsbeginnMessages,\n            einsatzMessages,\n            arbeitBeginn, arbeitEnde, arbeitDauer,\n            sperrzeitEnde,\n            buchungBeginn,\n            buchungEnde,\n            buchungDauer,\n            gesamtDauerBrutto,\n            gesamtDauerNetto\n        });\n    };\n\n    componentDidMount() {\n        dispatcher.addHandler(model);\n        dispatcher.subscribe(this.onChange);\n    }\n\n    componentWillUnmount() {\n        dispatcher.unsubscribe(this.onChange);\n        dispatcher.removeHandler(model);\n    }\n\n    render() {\n        const {\n            einsatzTag, einsatzBeginn, einsatzEnde, einsatzDauer,\n            einsatzMessages,\n            sperrzeitEnde, arbeitBeginn, arbeitEnde, arbeitDauer,\n            ueblicherArbeitsbeginn, ueblicherArbeitsbeginnMessages,\n            buchungBeginn, buchungEnde, buchungDauer\n        } = this.state;\n\n        return (\n            <div className=\"App\">\n                <Container tag=\"section\">\n                    <h1>Bereitschaftsrechner</h1>\n                    <div className=\"row\">\n                        <div className=\"col col-6 offset-6\">\n                            <div className=\"float-right\">\n                                <small>(Version: {process.env.__VERSION__ || \"undefined\"})</small>\n                                <a\n                                    href=\"https://github.com/cbuschka/bereitschaftsrechner/\" target=\"_blank\"\n                                    rel=\"noopener noreferrer\"> <GithubIcon/>\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                    <Form>\n                        <h4>Einsatz</h4>\n                        <div className=\"row\">\n                            <div className=\"col col-4\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"einsatzTag\">Tag:</label>\n                                    <DayInput id=\"einsatzTag\" value={einsatzTag}\n                                              onChange={this.onEinsatzTagChanged}/>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"einsatzBeginn\">Beginn:</label>\n                                    <TimeInput id=\"einsatzBeginn\" value={einsatzBeginn}\n                                               onChange={this.onEinsatzBeginnChanged}/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"einsatzEnde\">Ende:</label>\n                                    <TimeInput id=\"einsatzEnde\" value={einsatzEnde}\n                                               onChange={this.onEinsatzEndeChanged}/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"einsatzDauer\">Dauer:</label>\n                                    <DurationOutput id=\"einsatzDauer\" value={einsatzDauer}/>\n                                </div>\n                            </div>\n                        </div>\n                        <MessagePanel items={einsatzMessages}/>\n                        <hr/>\n                        <h4>Arbeit (nach dem Einsatz)</h4>\n                        <div className=\"row\">\n                            <div className=\"col-4\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"sperrzeitEnde\">Sperrzeit-Ende:</label>\n                                    <TimeOutput id=\"sperrzeitEnde\" value={sperrzeitEnde}/>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <div className=\"form-group \">\n                                    <label htmlFor=\"arbeitBeginn\">Beginn:</label>\n                                    <TimeInput id=\"arbeitBeginn\" value={arbeitBeginn}\n                                               onChange={this.onArbeitBeginnChanged}/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"arbeitEnde\">Ende:</label>\n                                    <TimeInput id=\"arbeitEnde\" value={arbeitEnde}\n                                               onChange={this.onArbeitEndeChanged}/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"arbeitDauer\">Dauer:</label>\n                                    <DurationOutput id=\"arbeitDauer\" value={arbeitDauer}/>\n                                </div>\n                            </div>\n                        </div>\n\n                        <hr/>\n                        <div className=\"row\">\n                            <div className=\"col-4\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"ueblicherArbeitsbeginn\">Üblicher Arbeitsbeginn:</label>\n                                    <TimeInput id=\"ueblicherArbeitsbeginn\" value={ueblicherArbeitsbeginn}\n                                               onChange={this.onUeblicherArbeitsbeginnChanged}/>\n                                </div>\n                            </div>\n                        </div>\n                        <MessagePanel items={ueblicherArbeitsbeginnMessages}/>\n\n                        <hr/>\n                        <h4>Verbuchung</h4>\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"buchungBeginn\">Beginn:</label>\n                                    <TimeOutput readOnly id=\"buchungBeginn\" value={buchungBeginn}/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"buchungEnde\">Ende:</label>\n                                    <TimeOutput value={buchungEnde} id=\"buchungEnde\"/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"buchungDauer\">Dauer:</label>\n                                    <DurationOutput value={buchungDauer} id=\"buchungDauer\"/>\n                                </div>\n                            </div>\n                        </div>\n                        <p><small>(Alle Angaben ohne Gewähr!)</small></p>\n                    </Form>\n                </Container>\n\n            </div>\n        );\n    }\n\n    onEinsatzTagChanged(value) {\n        changeField(\"einsatzTag\", value);\n    }\n\n    onEinsatzBeginnChanged(value) {\n        changeField(\"einsatzBeginn\", value);\n    }\n\n    onEinsatzEndeChanged(value) {\n        changeField(\"einsatzEnde\", value);\n    }\n\n    onUeblicherArbeitsbeginnChanged(value) {\n        changeField(\"ueblicherArbeitsbeginn\", value);\n    }\n\n    onArbeitBeginnChanged(value) {\n        changeField(\"arbeitBeginn\", value);\n    }\n\n    onArbeitEndeChanged(value) {\n        changeField(\"arbeitEnde\", value);\n    }\n}\n","import 'bootstrap/dist/css/bootstrap.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}