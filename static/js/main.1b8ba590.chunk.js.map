{"version":3,"sources":["util.js","dateconv.js","datetimeconv.js","DayInput.js","timeconv.js","TimeInput.js","DurationOutput.js","TimeOutput.js","changeFieldAction.js","calculator.js","model.js","App.js","index.js"],"names":["zeroPadded","d","isNaN","isValidDate","toISOString","getTime","dateToDateInputValue","local","Date","setMinutes","getMinutes","getTimezoneOffset","toJSON","slice","dateWithTimeToDate","time","parts","match","length","getFullYear","getMonth","getDate","parseInt","isDate","DayInput","onChange","ev","props","target","value","this","id","className","Input","placeholder","classnames","React","Component","millisToHhDotMm","dauerInMillis","minutes","Math","floor","hours","hhDotMmtoMillis","hhDotMm","result","exec","dateToTimeInputValue","TimeInput","dateToHhMm","DurationOutput","readOnly","TimeOutput","changeField","fieldName","dispatcher","dispatch","type","data","calculator","einsatzStartDatum","einsatzEndeDatum","ueblicherArbeitsbeginn","arbeitDauerInMillis","undefined","a","b","einsatzDauerInMillis","ueblicherArbeitsbeginnDatum","sperrzeitEndeDatum","berechneSperrzeitEndeDatum","aufschubstartDatum","buchungBeginnDatum","pauseDauerInMillis","buchungEndeDatum","gesamtDauerNetto","gesamtDauerBrutto","buchungDauerInMillis","sperrzeitEnde","buchungBeginn","buchungEnde","buchungDauer","einsatzDauer","pauseDauer","model","einsatzTag","einsatzBeginn","einsatzEnde","arbeitBeginn","arbeitEnde","einsatzTagDate","v","yyyyMmDdToDate","arbeitBeginnDatum","arbeitEndeDatum","arbeitDauer","berechneBuchung","App","setState","state","addHandler","subscribe","unsubscribe","removeHandler","Container","tag","Form","htmlFor","onEinsatzTagChanged","onEinsatzBeginnChanged","onEinsatzEndeChanged","onArbeitBeginnChanged","onArbeitEndeChanged","onUeblicherArbeitsbeginnChanged","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1b8ba590.chunk.js","sourcesContent":["export function zeroPadded(d) {\n    if (typeof d !== 'number' || isNaN(d)) {\n        return d;\n    }\n\n    if (d >= 0 && d < 10) {\n        return \"0\" + d;\n    }\n\n    return \"\" + d;\n}\n\nexport function max(a, b) {\n    if (a > b) {\n        return a;\n    }\n    return b;\n}\n","import {zeroPadded} from \"./util\";\n\nexport function isValidDate(d) {\n    return typeof d === 'object'\n        && d.toISOString\n        && typeof d.getTime() === 'number'\n        && !isNaN(d.getTime());\n}\n\nexport function dateToDateInputValue(d) {\n    if (!isValidDate(d)) {\n        return undefined;\n    }\n\n    var local = new Date(d);\n    local.setMinutes(d.getMinutes() - d.getTimezoneOffset());\n    return local.toJSON().slice(0, 10);\n}\n\nexport function dateToYyyyMmDd(d) {\n    return zeroPadded(d.getFullYear()) + \"-\" + zeroPadded(d.getMonth()) + \"-\" + zeroPadded(d.getDate());\n}\n\nexport function isValidYyyyMmDd(v) {\n    if (typeof v !== 'string') {\n        return false;\n    }\n\n    return v.match(/\\d+-\\d+-\\d+/);\n}\n\nexport function yyyyMmDdToDate(v) {\n    if (typeof v !== 'string') {\n        return undefined;\n    }\n\n    const parts = v.match(/(\\d+)-(\\d+)-(\\d+)/)\n    if (!parts || parts.length !== 4) {\n        return undefined;\n    }\n    return new Date(parseInt(parts[1]), parseInt(parts[2]), parseInt(parts[3]));\n}\n","import {isValidDate} from \"./dateconv\";\n\nexport function dateWithTimeToDate(d, time) {\n    if (!isValidDate(d) || !time) {\n        return undefined;\n    }\n\n    if (typeof time !== 'string') {\n        return undefined;\n    }\n\n    const parts = time.match(/(\\d+):(\\d+)/);\n    if (!parts || parts.length !== 3) {\n        return undefined;\n    }\n\n    return new Date(d.getFullYear(), d.getMonth(), d.getDate(), parseInt(parts[1]), parseInt(parts[2]));\n}\n\nexport function isDate(d) {\n    return isValidDate(d);\n}\n","import React from 'react';\nimport {isDate} from \"./datetimeconv\";\nimport {dateToYyyyMmDd} from \"./dateconv\";\nimport classnames from 'classnames';\nimport {Input} from \"reactstrap\";\n\nexport class DayInput extends React.Component {\n\n    onChange = (ev) => {\n        const {onChange} = this.props;\n\n        if (onChange) {\n            const newValue = ev.target.value;\n            onChange(newValue, ev);\n        }\n    };\n\n    render() {\n        const {id, className = \"\"} = this.props;\n        let {value = \"\"} = this.props;\n\n        if (isDate(value)) {\n            value = dateToYyyyMmDd(value);\n        }\n\n        return <Input placeholder='YYYY-MM-DD'\n                      className={classnames(className)}\n                      onChange={this.onChange}\n                      id={id} value={value}/>;\n    }\n}\n","import {zeroPadded} from \"./util\";\nimport {isValidDate} from \"./dateconv\";\n\nexport function isValidHhDotMm(v) {\n    return /(\\d+):(\\d+)/.test(v);\n}\n\nexport function millisToHhDotMm(dauerInMillis) {\n    if (typeof dauerInMillis !== 'number' || isNaN(dauerInMillis)) {\n        return undefined;\n    }\n\n    const minutes = zeroPadded(Math.floor((dauerInMillis / (1000 * 60)) % 60));\n    const hours = zeroPadded(Math.floor((dauerInMillis / (1000 * 60 * 60)) % 24));\n\n    return `${hours}:${minutes}`\n}\n\nexport function hhDotMmtoMillis(hhDotMm) {\n    if (typeof hhDotMm !== 'string') {\n        return undefined;\n    }\n\n    const result = /(\\d+):(\\d+)/.exec(hhDotMm);\n    if (!result || result.length !== 3) {\n        return undefined;\n    }\n    return parseInt(result[1]) * 1000 * 60 * 60 + parseInt(result[2]) * 1000 * 60;\n}\n\nexport function dateToTimeInputValue(d) {\n    if (!isValidDate(d)) {\n        return undefined;\n    }\n\n    var local = new Date(d);\n    local.setMinutes(d.getMinutes() - d.getTimezoneOffset());\n    return local.toJSON().slice(11, 16);\n}\n\nexport function dateToHhMm(d) {\n    if (!isValidDate(d)) {\n        return undefined;\n    }\n\n    var local = new Date(d);\n    local.setMinutes(d.getMinutes() - d.getTimezoneOffset());\n    return local.toJSON().slice(11, 16);\n}\n","import React from 'react';\nimport {isDate} from \"./datetimeconv\";\nimport {dateToHhMm} from \"./timeconv\";\nimport classnames from 'classnames';\nimport {Input} from \"reactstrap\";\n\nexport class TimeInput extends React.Component {\n\n    onChange = (ev) => {\n        const {onChange} = this.props;\n\n        if (onChange) {\n            const newValue = ev.target.value;\n            onChange(newValue, ev);\n        }\n    };\n\n    render() {\n        const {id, className = \"\"} = this.props;\n        let {value = \"\"} = this.props;\n\n        if (isDate(value)) {\n            value = dateToHhMm(value);\n        }\n\n        return <Input placeholder=\"HH:MM\"\n                      className={classnames(className)}\n                      onChange={this.onChange}\n                      id={id} value={value}/>;\n    }\n}\n","import React from 'react';\n\nexport class DurationOutput extends React.Component {\n    render() {\n        const {id, value = \"\"} = this.props;\n        return <output readOnly className=\"form-control\" id={id}>{value}</output>\n    }\n}\n","import React from 'react';\n\nexport class TimeOutput extends React.Component {\n    render() {\n        const {id, value = \"\"} = this.props;\n        return <output readOnly className=\"form-control\" id={id}>{value}</output>\n    }\n}\n","import {dispatcher} from \"@cbuschka/flux\";\n\nexport function changeField(fieldName, value) {\n    return dispatcher.dispatch({type: \"fieldChanged\", data: {fieldName, value}})\n}\n","import {max} from \"./util\";\nimport {dateToTimeInputValue, hhDotMmtoMillis, millisToHhDotMm} from \"./timeconv\";\nimport {dateWithTimeToDate} from \"./datetimeconv\";\n\nconst SIX_HOURS_IN_MILLIS = 1000 * 60 * 60 * 6;\nconst FIFTY_MINUTES_IN_MILLS = 1000 * 60 * 50;\nconst TWENTY_MINUTES_IN_MILLS = 1000 * 60 * 50;\n\nfunction berechneSperrzeitEndeDatum(einsatzEndeDatum) {\n    return new Date(einsatzEndeDatum.getTime() + hhDotMmtoMillis(\"11:00\"));\n}\n\n\nclass Calculator {\n    berechneBuchung(einsatzStartDatum, einsatzEndeDatum, ueblicherArbeitsbeginn, arbeitDauerInMillis) {\n        if (arbeitDauerInMillis === undefined) {\n            arbeitDauerInMillis = 0;\n        }\n\n        const einsatzDauerInMillis = einsatzEndeDatum - einsatzStartDatum;\n        const ueblicherArbeitsbeginnDatum = dateWithTimeToDate(einsatzStartDatum, ueblicherArbeitsbeginn);\n        const sperrzeitEndeDatum = berechneSperrzeitEndeDatum(einsatzEndeDatum);\n        const aufschubstartDatum = max(ueblicherArbeitsbeginnDatum, einsatzEndeDatum);\n        const buchungBeginnDatum = new Date(aufschubstartDatum.getTime() + einsatzDauerInMillis);\n        let pauseDauerInMillis = 0;\n        if (arbeitDauerInMillis > SIX_HOURS_IN_MILLIS) {\n            pauseDauerInMillis = FIFTY_MINUTES_IN_MILLS;\n        } else {\n            pauseDauerInMillis = TWENTY_MINUTES_IN_MILLS;\n        }\n        const buchungEndeDatum = new Date(sperrzeitEndeDatum.getTime() + arbeitDauerInMillis + pauseDauerInMillis);\n        const gesamtDauerNetto = einsatzDauerInMillis + arbeitDauerInMillis;\n        const gesamtDauerBrutto = gesamtDauerNetto + pauseDauerInMillis;\n        let buchungDauerInMillis = buchungEndeDatum - buchungBeginnDatum;\n\n        const result = {\n            sperrzeitEnde: dateToTimeInputValue(sperrzeitEndeDatum),\n            buchungBeginn: dateToTimeInputValue(buchungBeginnDatum),\n            buchungEnde: dateToTimeInputValue(buchungEndeDatum),\n            buchungDauer: millisToHhDotMm(buchungDauerInMillis),\n            einsatzDauer: millisToHhDotMm(einsatzDauerInMillis),\n            gesamtDauerNetto: millisToHhDotMm(gesamtDauerNetto),\n            gesamtDauerBrutto: millisToHhDotMm(gesamtDauerBrutto),\n            pauseDauer: millisToHhDotMm(pauseDauerInMillis)\n        };\n        return result;\n    }\n}\n\nexport const calculator = new Calculator();\n","import {calculator} from \"./calculator\";\nimport {hhDotMmtoMillis, millisToHhDotMm} from \"./timeconv\";\nimport {dateWithTimeToDate} from \"./datetimeconv\";\nimport {dateToDateInputValue, yyyyMmDdToDate} from \"./dateconv\";\n\nclass Model {\n    constructor() {\n        this.data = {\n            einsatzTag: dateToDateInputValue(new Date()),\n            einsatzBeginn: \"00:15\",\n            einsatzEnde: \"02:15\",\n            ueblicherArbeitsbeginn: \"07:30\",\n            arbeitBeginn: \"15:05\",\n            arbeitEnde: \"16:05\"\n        };\n    }\n\n    onFieldChanged({data: {fieldName, value}}) {\n        this.data[fieldName] = value;\n    }\n\n    appendDataTo(target) {\n        const einsatzTagDate = yyyyMmDdToDate(this.data.einsatzTag);\n        const einsatzStartDatum = dateWithTimeToDate(einsatzTagDate, this.data.einsatzBeginn);\n        const einsatzEndeDatum = dateWithTimeToDate(einsatzTagDate, this.data.einsatzEnde);\n        const ueblicherArbeitsbeginn = this.data.ueblicherArbeitsbeginn;\n        const arbeitBeginnDatum = dateWithTimeToDate(einsatzTagDate, this.data.arbeitBeginn);\n        const arbeitEndeDatum = dateWithTimeToDate(einsatzTagDate, this.data.arbeitEnde);\n        let arbeitDauer = 0;\n        if (arbeitBeginnDatum && arbeitEndeDatum) {\n            arbeitDauer = millisToHhDotMm(arbeitEndeDatum - arbeitBeginnDatum);\n        }\n        if (einsatzStartDatum && einsatzEndeDatum && ueblicherArbeitsbeginn) {\n            const {\n                sperrzeitEnde,\n                buchungBeginn,\n                buchungEnde,\n                buchungDauer,\n                einsatzDauer,\n                gesamtDauerNetto,\n                gesamtDauerBrutto\n            } = calculator.berechneBuchung(einsatzStartDatum,\n                einsatzEndeDatum,\n                ueblicherArbeitsbeginn,\n                hhDotMmtoMillis(arbeitDauer));\n            target.calculator = {\n                ...this.data,\n                sperrzeitEnde,\n                buchungBeginn,\n                buchungEnde,\n                buchungDauer,\n                einsatzDauer,\n                gesamtDauerBrutto,\n                gesamtDauerNetto,\n                arbeitDauer\n            };\n        } else {\n            target.calculator = {\n                ...this.data,\n                sperrzeitEnde: \"\",\n                buchungBeginn: \"\",\n                buchungEnde: \"\",\n                buchungDauer: \"\",\n                einsatzDauer: \"\",\n                gesamtDauerBrutto: \"\",\n                gesamtDauerNetto: \"\",\n                arbeitDauer: \"\"\n            };\n        }\n    }\n}\n\nexport const model = new Model();\n","import React from 'react';\nimport {Container, Form} from \"reactstrap\";\nimport {DayInput} from \"./DayInput\";\nimport {TimeInput} from './TimeInput';\nimport {DurationOutput} from \"./DurationOutput\";\nimport {dispatcher} from \"@cbuschka/flux\";\nimport {TimeOutput} from \"./TimeOutput\";\nimport {changeField} from \"./changeFieldAction\";\nimport {model} from \"./model\";\n\nexport class App extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {};\n    }\n\n    onChange = ({data}) => {\n        const {\n            calculator: {\n                einsatzTag, einsatzBeginn, einsatzEnde, einsatzDauer, ueblicherArbeitsbeginn,\n                arbeitBeginn, arbeitEnde, arbeitDauer,\n                sperrzeitEnde,\n                buchungBeginn,\n                buchungEnde,\n                buchungDauer,\n                gesamtDauerBrutto,\n                gesamtDauerNetto\n            }\n        } = data;\n\n        this.setState({\n            einsatzTag, einsatzBeginn, einsatzEnde, einsatzDauer, ueblicherArbeitsbeginn,\n            arbeitBeginn, arbeitEnde, arbeitDauer,\n            sperrzeitEnde,\n            buchungBeginn,\n            buchungEnde,\n            buchungDauer,\n            gesamtDauerBrutto,\n            gesamtDauerNetto\n        });\n    };\n\n    componentDidMount() {\n        dispatcher.addHandler(model);\n        dispatcher.subscribe(this.onChange);\n    }\n\n    componentWillUnmount() {\n        dispatcher.unsubscribe(this.onChange);\n        dispatcher.removeHandler(model);\n    }\n\n    render() {\n        const {\n            einsatzTag, einsatzBeginn, einsatzEnde, einsatzDauer,\n            sperrzeitEnde, arbeitBeginn, arbeitEnde, arbeitDauer,\n            ueblicherArbeitsbeginn,\n            buchungBeginn, buchungEnde, buchungDauer,\n            gesamtDauerNetto, gesamtDauerBrutto\n        } = this.state;\n\n\n        return (\n            <div className=\"App\">\n                <Container tag=\"section\">\n                    <h1>Bereitschaftsrechner</h1>\n                    <p><small>(Alle Angaben ohne Gewähr!)</small></p>\n                    <Form>\n                        <h4>Einsatz</h4>\n                        <div className=\"row\">\n                            <div className=\"col col-4\">\n                                <div className=\"form-group \">\n                                    <label htmlFor=\"einsatzTag\">Tag:</label>\n                                    <DayInput id=\"einsatzTag\" value={einsatzTag}\n                                              onChange={this.onEinsatzTagChanged}/>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <div className=\"form-group \">\n                                    <label htmlFor=\"einsatzBeginn\">Beginn:</label>\n                                    <TimeInput id=\"einsatzBeginn\" value={einsatzBeginn}\n                                               onChange={this.onEinsatzBeginnChanged}/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"einsatzEnde\">Ende:</label>\n                                    <TimeInput id=\"einsatzEnde\" value={einsatzEnde}\n                                               onChange={this.onEinsatzEndeChanged}/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"einsatzDauer\">Dauer:</label>\n                                    <DurationOutput id=\"einsatzDauer\" value={einsatzDauer}/>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <output readOnly className=\"text-danger\" type=\"text\" id=\"einsatzTagFehler\"/>\n                                <output readOnly className=\"text-danger\" type=\"text\" id=\"einsatzBeginnFehler\"/>\n                                <output readOnly className=\"text-danger\" type=\"text\" id=\"einsatzEndeFehler\"/>\n                                <output readOnly className=\"text-danger\" type=\"text\" id=\"einsatzFehler\"/>\n                            </div>\n                        </div>\n\n                        <hr/>\n                        <h4>Arbeit (nach dem Einsatz)</h4>\n                        <div className=\"row\">\n                            <div className=\"col-3\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"sperrzeitEnde\">Sperrzeit-Ende:</label>\n                                    <TimeOutput id=\"sperrzeitEnde\" value={sperrzeitEnde}/>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <div className=\"form-group \">\n                                    <label htmlFor=\"arbeitBeginn\">Beginn:</label>\n                                    <TimeInput id=\"arbeitBeginn\" value={arbeitBeginn}\n                                               onChange={this.onArbeitBeginnChanged}/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"arbeitEnde\">Ende:</label>\n                                    <TimeInput id=\"arbeitEnde\" value={arbeitEnde}\n                                               onChange={this.onArbeitEndeChanged}/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"arbeitDauer\">Dauer:</label>\n                                    <DurationOutput id=\"arbeitDauer\" value={arbeitDauer}/>\n                                </div>\n                            </div>\n                        </div>\n\n                        <hr/>\n                        <div className=\"row\">\n                            <div className=\"col-3\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"ueblicherArbeitsbeginn\">Üblicher Arbeitsbeginn:</label>\n                                    <TimeInput id=\"ueblicherArbeitsbeginn\" value={ueblicherArbeitsbeginn}\n                                               onChange={this.onUeblicherArbeitsbeginnChanged}/>\n                                </div>\n                            </div>\n                        </div>\n\n                        <hr/>\n                        <h4>Verbuchung</h4>\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <output readOnly className=\"text-danger\" type=\"text\"\n                                        id=\"ueblicherArbeitsbeginnFehler\"/>\n                            </div>\n                        </div>\n\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"buchungBeginn\">Beginn:</label>\n                                    <TimeOutput readOnly id=\"buchungBeginn\" value={buchungBeginn}/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"buchungEnde\">Ende:</label>\n                                    <TimeOutput value={buchungEnde} id=\"buchungEnde\"/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"buchungDauer\">Dauer:</label>\n                                    <DurationOutput value={buchungDauer} id=\"buchungDauer\"/>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"gesamtDauerNetto\">Gesamt-Dauer (ohne Pausen):</label>\n                                    <DurationOutput value={gesamtDauerNetto} id=\"gesamtDauerNetto\"/>\n                                </div>\n                            </div>\n                            <div className=\"col\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"gesamtDauerBrutto\">Gesamt-Dauer (inkl. Pausen):</label>\n                                    <DurationOutput value={gesamtDauerBrutto} id=\"gesamtDauerBrutto\"/>\n                                </div>\n                            </div>\n                        </div>\n                    </Form>\n                </Container>\n            </div>\n        );\n    }\n\n    onEinsatzTagChanged(value) {\n        changeField(\"einsatzTag\", value);\n    }\n\n    onEinsatzBeginnChanged(value) {\n        changeField(\"einsatzBeginn\", value);\n    }\n\n    onEinsatzEndeChanged(value) {\n        changeField(\"einsatzEnde\", value);\n    }\n\n    onUeblicherArbeitsbeginnChanged(value) {\n        changeField(\"ueblicherArbeitsbeginn\", value);\n    }\n\n    onArbeitBeginnChanged(value) {\n        changeField(\"arbeitBeginn\", value);\n    }\n\n    onArbeitEndeChanged(value) {\n        changeField(\"arbeitEnde\", value);\n    }\n}\n","import 'bootstrap/dist/css/bootstrap.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}